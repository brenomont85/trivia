{"ast":null,"code":"var _jsxFileName = \"/home/clecio/Trybe/Projetos/sd-029-b-project-trivia-react-redux/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport logo from '../trivia.png';\nimport { nameAcess } from '../redux/actions/loginAction';\nimport { resetScore } from '../redux/actions/gameAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      name: '',\n      email: '',\n      isDisable: true\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      }, this.validateForm);\n    };\n    this.validateForm = () => {\n      const {\n        email,\n        name\n      } = this.state;\n      const MIN = 0;\n      const validate = /^\\S+@\\S+\\.\\S+$/;\n      if (email.match(validate) && name.length > MIN) {\n        this.setState({\n          isDisable: false\n        });\n      } else {\n        this.setState({\n          isDisable: true\n        });\n      }\n    };\n    this.handleSettings = () => {\n      const {\n        history\n      } = this.props;\n      history.push('/settings');\n    };\n    this.handleSubmit = async () => {\n      const {\n        history,\n        dispatch\n      } = this.props;\n      const token = await fetch('https://opentdb.com/api_token.php?command=request');\n      const tokenJson = await token.json();\n      const finalToken = tokenJson.token;\n      localStorage.setItem('token', finalToken);\n      dispatch(nameAcess(this.state));\n      history.push('/game');\n    };\n  }\n  componentDidMount() {\n    const {\n      dispatch\n    } = this.props;\n    dispatch(resetScore());\n  }\n  render() {\n    const {\n      isDisable\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: logo,\n        width: \"300px\",\n        className: \"App-logo\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: [\"Nome\", /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: this.handleChange,\n            type: \"text\",\n            name: \"name\",\n            id: \"name\",\n            \"data-testid\": \"input-player-name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: this.handleChange,\n            type: \"email\",\n            name: \"email\",\n            id: \"email\",\n            \"data-testid\": \"input-gravatar-email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: isDisable,\n          type: \"button\",\n          \"data-testid\": \"btn-play\",\n          onClick: this.handleSubmit,\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-testid\": \"btn-settings\",\n          onClick: this.handleSettings,\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n}\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }),\n  dispatch: PropTypes.func\n}.isRequired;\nexport default connect()(Login);","map":{"version":3,"names":["React","Component","PropTypes","connect","logo","nameAcess","resetScore","Login","state","name","email","isDisable","handleChange","target","value","setState","validateForm","MIN","validate","match","length","handleSettings","history","props","push","handleSubmit","dispatch","token","fetch","tokenJson","json","finalToken","localStorage","setItem","componentDidMount","render","propTypes","shape","func","isRequired"],"sources":["/home/clecio/Trybe/Projetos/sd-029-b-project-trivia-react-redux/src/pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport logo from '../trivia.png';\nimport { nameAcess } from '../redux/actions/loginAction';\nimport { resetScore } from '../redux/actions/gameAction';\n\nclass Login extends Component {\n  state = {\n    name: '',\n    email: '',\n    isDisable: true,\n  };\n\n  componentDidMount() {\n    const { dispatch } = this.props;\n    dispatch(resetScore());\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, this.validateForm);\n  };\n\n  validateForm = () => {\n    const { email, name } = this.state;\n    const MIN = 0;\n    const validate = /^\\S+@\\S+\\.\\S+$/;\n\n    if (email.match(validate) && name.length > MIN) {\n      this.setState({\n        isDisable: false,\n      });\n    } else {\n      this.setState({\n        isDisable: true,\n      });\n    }\n  };\n\n  handleSettings = () => {\n    const { history } = this.props;\n    history.push('/settings');\n  };\n\n  handleSubmit = async () => {\n    const { history, dispatch } = this.props;\n\n    const token = await fetch('https://opentdb.com/api_token.php?command=request');\n    const tokenJson = await token.json();\n    const finalToken = tokenJson.token;\n    localStorage.setItem('token', finalToken);\n    dispatch(nameAcess(this.state));\n    history.push('/game');\n  };\n\n  render() {\n    const { isDisable } = this.state;\n    return (\n      <header className=\"App-header\">\n        <img src={ logo } width=\"300px\" className=\"App-logo\" alt=\"logo\" />\n        <form>\n          <label htmlFor=\"name\">\n            Nome\n            <input\n              onChange={ this.handleChange }\n              type=\"text\"\n              name=\"name\"\n              id=\"name\"\n              data-testid=\"input-player-name\"\n            />\n          </label>\n          <label htmlFor=\"email\">\n            Email\n            <input\n              onChange={ this.handleChange }\n              type=\"email\"\n              name=\"email\"\n              id=\"email\"\n              data-testid=\"input-gravatar-email\"\n            />\n          </label>\n          <button\n            disabled={ isDisable }\n            type=\"button\"\n            data-testid=\"btn-play\"\n            onClick={ this.handleSubmit }\n          >\n            Play\n          </button>\n          <button\n            type=\"button\"\n            data-testid=\"btn-settings\"\n            onClick={ this.handleSettings }\n          >\n            Settings\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n  dispatch: PropTypes.func,\n}.isRequired;\n\nexport default connect()(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}